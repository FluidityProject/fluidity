 In flredecomp
fluidity.state_types imported successfully; location: 
/home/cmath/FLUIDITY_GIT/chris_testing/python/fluidity/state_types.pyc
Input base name: lagrangian-4th-C
Output base name: lagrangian-4th-C-flredecomp
Input number of processes: 1
Target number of processes: 4
Job number of processes: 4
 Options tree:
fluidity_options/
  simulation_name/
    __value/
     <value>: lagrangian_4th_C
      lines: 1
  problem_type/
    __value/
     <value>: fluids
      lines: 1
  geometry/
    dimension/
      __value/
       <value>: 2 
        rank: 0
    mesh::CoordinateMesh/
      name: CoordinateMesh
      from_file/
        file_name: square
        format::gmsh/
          name: gmsh
        stat/
          include_in_stat: NULL
    mesh::VelocityMesh/
      name: VelocityMesh
      from_mesh/
        mesh::CoordinateMesh/
          name: CoordinateMesh
        mesh_shape/
          polynomial_degree/
            __value/
             <value>: 1 
              rank: 0
        mesh_continuity/
          __value: discontinuous
        stat/
          exclude_from_stat: NULL
    quadrature/
      degree/
        __value/
         <value>: 3 
          rank: 0
  io/
    dump_format/
      __value: vtk
    dump_period_in_timesteps/
      constant/
        __value/
         <value>: 10000000 
          rank: 0
    output_mesh::VelocityMesh/
      name: VelocityMesh
    stat: NULL
    detectors/
      detector_array::Chris/
        name: Chris
        number_of_detectors/
          __value/
           <value>: 100 
            rank: 0
        lagrangian: NULL
        python/
          __value/
           <value>: def val(t):
  from numpy import arange,zeros,reshape,concatenate
  x = 0.5+0.25*arange(0,100.)/100.
  y = zeros(100) + 0.5
  return reshape(concatenate((x,y)),(2,100)).T
            lines: 20
            type: code
            language: python
      fail_outside_domain: NULL
      lagrangian_timestepping/
        subcycles/
          __value/
           <value>: 1 
            rank: 0
        search_tolerance/
          __value/
           <value>: 1e-10 
            rank: 0
        rk4_guided_search: NULL
  timestepping/
    current_time/
      __value/
       <value>: 0 
        rank: 0
    timestep/
      __value/
       <value>: 0.01 
        rank: 0
    finish_time/
      __value/
       <value>: 8 
        rank: 0
    final_timestep/
      __value/
       <value>: 800 
        rank: 0
  physical_parameters/
    gravity/
      magnitude/
        __value/
         <value>: 1 
          rank: 0
      vector_field::GravityDirection/
        name: GravityDirection
        rank: 1
        prescribed/
          mesh::CoordinateMesh/
            name: CoordinateMesh
          value::WholeMesh/
            name: WholeMesh
            constant/
              __value/
               <value>: 0 -1 
                rank: 1
                shape: 2
                dim1: dim
          output: NULL
          stat/
            include_in_stat: NULL
          detectors/
            exclude_from_detectors: NULL
  material_phase::BoussinesqFluid/
    name: BoussinesqFluid
    vector_field::Velocity/
      name: Velocity
      rank: 1
      prescribed/
        mesh::VelocityMesh/
          name: VelocityMesh
        value::WholeMesh/
          name: WholeMesh
          python/
            __value/
             <value>: def val(X,t):
  x = X[0]
  y = X[1]
  return [-(y-0.5)*t/8.0,(x-0.5)*t/8.0]
              lines: 20
              type: code
              language: python
        output: NULL
        stat/
          include_in_stat: NULL
        detectors/
          exclude_from_detectors: NULL
 Performing options sanity check
 in dqmom_check_options
 Finished dqmom_check_options
 in dqmom_check_options
 Finished dqmom_check_options
 Checking momentum discretisation options
 Finished checking momentum discretisation options
 Checking interpolation algorithm selection options
 Finished checking interpolation algorithm selection options
 Checking mesh options.
 There are           2 meshes.
 Done with problem type choice
 Checking output options
 Finished checking output options.
 Checking k-epsilon options
 Checking simulation completion options
 Finished checking simulation completion options
 Options sanity check successful
 In initialise_ocean_forcing_readers
 Exiting initialise_ocean_forcing_readers
 There are           2 meshes.
 Opening square.msh for reading.
 Adding element-element list to mesh CoordinateMesh
 Adding node-element list to mesh CoordinateMesh
 Using the new makeeelist
 Number of surface elements:          136
 Number of unique surface elements:          136
 Checking nodes in halo EmptyHalo for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
 Creating universal numbering for a trailing receives halo
 Checking nodes in halo EmptyHalo for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
Owned nodes universal node number base = 0
Total receive_nodes = 0
 Checking nodes in halo EmptyHalo for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
 halo_verifies_array_integer returning .true.
 Checking nodes in halo EmptyHalo for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
 Checking nodes in halo EmptyHalo for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
 Creating universal numbering for a trailing receives halo
 Checking nodes in halo EmptyHalo for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
Owned nodes universal node number base = 0
Total receive_nodes = 0
 Checking nodes in halo EmptyHalo for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
 halo_verifies_array_integer returning .true.
 Checking nodes in halo EmptyHalo for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
 Checking nodes in halo EmptyHalo for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
 Creating universal numbering for a trailing receives halo
 Checking nodes in halo EmptyHalo for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
Owned nodes universal node number base = 0
Total receive_nodes = 0
 Checking nodes in halo EmptyHalo for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
 halo_verifies_array_integer returning .true.
 Checking nodes in halo EmptyHalo for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
 Checking nodes in halo EmptyHalo for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
 Creating universal numbering for a trailing receives halo
 Checking nodes in halo EmptyHalo for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
Owned nodes universal node number base = 0
Total receive_nodes = 0
 Checking nodes in halo EmptyHalo for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
 halo_verifies_array_integer returning .true.
 Checking nodes in halo EmptyHalo for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
 Inside get_coplanar_ids
 Adding node-element list to mesh SurfaceCoordinateMesh
 Before merge_surface_ids, n/o local coplanes:           4
 In merge_surface_ids
 In derive_maximal_surface_element_halo
 Maximal receive elements:            0
 Owned elements:          136
 Checking nodes in halo EmptyHalo for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
 Exiting derive_maximal_surface_element_halo
 Performing surface merge            1
 Number of merged surface IDs:            0
 Exiting merge_surface_ids
 Surface id stats for mesh CoordinateMesh
 Surface id,  n/o surface elements,       surface area
         8                     34     1.000000000E+00
         9                     34     1.000000000E+00
        10                     34     1.000000000E+00
        11                     34     1.000000000E+00
 Total number of surface elements:         136
Total surface area:     4.000000000E+00
 Creating universal numbering for a trailing receives halo
 Checking nodes in halo EmptyHaloDG for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
Owned nodes universal node number base = 0
Total receive_nodes = 0
 Checking nodes in halo EmptyHaloDG for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
 halo_verifies_array_integer returning .true.
 Checking nodes in halo EmptyHaloDG for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
 Creating universal numbering for a trailing receives halo
 Checking nodes in halo EmptyHaloDG for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
Owned nodes universal node number base = 0
Total receive_nodes = 0
 Checking nodes in halo EmptyHaloDG for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
 halo_verifies_array_integer returning .true.
 Checking nodes in halo EmptyHaloDG for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
 Transferring element-element list to mesh VelocityMesh
 domain_bbox - dim, range =           1   0.0000000000000000        1.0000000000000000     
 domain_bbox - dim, range =           2   0.0000000000000000        1.0000000000000000     
 domain_volume =  0.99999999999999922     
 In allocate_and_insert_vector_field, field is: Velocity
 Is field prognostic?  F
 Is field prescribed?  T
 Is field constant?  F
 Is field diagnostic?  F
 Velocity is on mesh VelocityMesh
     Inserting children of: /material_phase[0]/vector_field::Velocity/prescribed
     Inserting children of: /material_phase[0]/vector_field::Velocity/prescribed/spatial_discretisation/inner_element
 In allocate_and_insert_vector_field, field is: GravityDirection
 Is field prognostic?  F
 Is field prescribed?  T
 Is field constant?  T
 Is field diagnostic?  F
 GravityDirection is on mesh CoordinateMesh
     Inserting children of: /physical_parameters/gravity/vector_field::GravityDirection/prescribed
     Inserting children of: /physical_parameters/gravity/vector_field::GravityDirection/prescribed/spatial_discretisation/inner_element
 In initialise_prognostic_fields
 In set_prescribed_field_values
 In zoltan_drive
 Assuming linear mesh is: CoordinateMesh
 Creating universal numbering for a trailing receives halo
 Checking nodes in halo EmptyHaloDG for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
Owned nodes universal node number base = 0
Total receive_nodes = 0
 Checking nodes in halo EmptyHaloDG for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
 halo_verifies_array_integer returning .true.
 Checking nodes in halo EmptyHaloDG for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
 Creating universal numbering for a trailing receives halo
 Checking nodes in halo EmptyHaloDG for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
Owned nodes universal node number base = 0
Total receive_nodes = 0
 Checking nodes in halo EmptyHaloDG for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
 halo_verifies_array_integer returning .true.
 Checking nodes in halo EmptyHaloDG for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
 Transferring element-element list to mesh 
 local minimum element quality =    1.0000000000000000     
 global minimum element quality =    1.0000000000000000     
 Initial load_imbalance_tolerance set to    1.0200000000000000     
ZOLTAN Load balancing method = 9 (GRAPH)
 No final partitioner option set, defaulting to using ParMETIS.
 Setting partitioning approach to PARTITION.
 Setting ParMETIS method to PartKway.
 in zoltan_load_balance
Build configuration:

  ZOLTAN_ID_TYPE: unsigned int (4 bytes)
  ZOLTAN_GNO_TYPE: ssize_t, (8 bytes)
  MPI_Datatype for ZOLTAN_ID_TYPE: MPI_UNSIGNED
  MPI_Datatype for ZOLTAN_GNO_TYPE: MPI_LONG
  Third party library: ParMetis version 4.0.3
  Third party library: PTScotch version 6_0_4
  Third party library: Scotch version 6_0_4

ZOLTAN Parameter IMBALANCE_TOL[0] = 1.020000
ZOLTAN Parameter AUTO_MIGRATE = FALSE
ZOLTAN Parameter MIGRATE_ONLY_PROC_CHANGES = 1
ZOLTAN Parameter OBJ_WEIGHT_DIM = 1
ZOLTAN Parameter EDGE_WEIGHT_DIM = 1
ZOLTAN Parameter DEBUG_LEVEL = 1
ZOLTAN Parameter DEBUG_PROCESSOR = 0
ZOLTAN Parameter DETERMINISTIC = TRUE
ZOLTAN Parameter TIMER = 1 (wall)
ZOLTAN Parameter NUM_GID_ENTRIES = 1
ZOLTAN Parameter NUM_LID_ENTRIES = 1
ZOLTAN Parameter RETURN_LISTS = IMPORT AND EXPORT
ZOLTAN Parameter NUM_GLOBAL_PARTS = 4
ZOLTAN Parameter NUM_LOCAL_PARTS = 1
ZOLTAN Parameter REMAP = 1
ZOLTAN Parameter SEED = 123456789 (123456789)
ZOLTAN Parameter LB_APPROACH = PARTITION
ZOLTAN Parameter GRAPH_PACKAGE = PARMETIS
ZOLTAN Parameter PARMETIS_METHOD = PARTKWAY
ZOLTAN Parameter PARMETIS_OUTPUT_LEVEL = 0
ZOLTAN Parameter PARMETIS_SEED = 15
ZOLTAN Parameter PARMETIS_ITR = 0.000000
ZOLTAN Parameter PARMETIS_COARSE_ALG = 2
ZOLTAN Parameter PARMETIS_FOLD = 0
Third party library real type is 8-byte real number
Third party library index type is 4-byte integer
Third party library weight type is 4-byte integer
Zoltan was compiled with support for: ParMetis Scotch PT-Scotch 
ZOLTAN Parameter CHECK_GRAPH = 1
ZOLTAN Parameter SCATTER_GRAPH = 2
ZOLTAN Parameter FINAL_OUTPUT = 0
ZOLTAN Parameter USE_TIMERS = 0
ZOLTAN Parameter ADD_OBJ_WEIGHT = NONE
ZOLTAN Parameter GRAPH_SYMMETRIZE = NONE
ZOLTAN Parameter GRAPH_SYM_WEIGHT = ADD
ZOLTAN Parameter GRAPH_BIPARTITE_TYPE = OBJ
ZOLTAN Parameter GRAPH_BUILD_TYPE = NORMAL
ZOLTAN Parameter GRAPH_FAST_BUILD_BASE = 0
 In zoltan_cb_owned_node_count
 In zoltan_cb_get_owned_nodes
 In zoltan_cb_get_num_edges
 In zoltan_cb_get_edge_list
 In zoltan_cb_owned_node_count
 In zoltan_cb_get_owned_nodes
 In zoltan_cb_pack_node_sizes
 exiting zoltan_load_balance
 In zoltan_migration_phase_one; objects to import:            0
 In zoltan_migration_phase_one; objects to export:         1059
 In zoltan_cb_pack_node_sizes
 In zoltan_cb_pack_nodes
 In deal_with_exports
 In zoltan_migration_phase_two; objects to import:            0
 In zoltan_migration_phase_two; objects to export:          240
 In zoltan_cb_pack_halo_node_sizes
 In zoltan_cb_pack_halo_nodes
 In reconstruct_enlist
 Found          856  possible new elements.
 Of these,          777  are non-degenerate.
 Adding node-element list to mesh TemporaryZoltanMesh
 Adding element-element list to mesh TemporaryZoltanMesh
 Using the new makeeelist
 Of the          777  full elements,          777  are connected.
 Removing node-element list from mesh TemporaryZoltanMesh
 Removing element-element list from mesh TemporaryZoltanMesh
 Exiting reconstruct_enlist
 In reconstruct_senlist
 Adding node-node list to mesh CoordinateMesh
 SUBROUTINE POSINM()
 Constructing lMatrix using linked-lists
 Compressing matrix
 subroutine compress_sparsity
 END subroutine compress_sparsity
 END SUBROUTINE POSINM
 Found           41  possible new surface elements.
 Of these,           39  are non-degenerate.
 Adding element-element list to mesh CoordinateMesh
 Adding node-element list to mesh CoordinateMesh
 Using the new makeeelist
 Number of surface elements:           39
 Number of unique surface elements:           39
 Exiting reconstruct_senlist
 In reconstruct_halo
 In renumber_positions_trailing_receives
 In renumber_positions
 Checking nodes in halo CoordinateMeshLevel1Halo for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
 Creating universal numbering for a trailing receives halo
 Checking nodes in halo CoordinateMeshLevel1Halo for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
Owned nodes universal node number base = 0
Total receive_nodes = 35
 Checking nodes in halo CoordinateMeshLevel1Halo for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
 halo_verifies_array_integer returning .true.
 Checking nodes in halo EmptyHalo for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
 Creating universal numbering for a trailing receives halo
 Checking nodes in halo EmptyHalo for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
Owned nodes universal node number base = 0
Total receive_nodes = 74
 Checking nodes in halo EmptyHalo for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
 halo_verifies_array_integer returning .true.
 Exiting renumber_positions
 Removing node-node list from mesh CoordinateMesh
 Removing node-element list from mesh CoordinateMesh
 Removing element-element list from mesh CoordinateMesh
 Checking nodes in halo CoordinateMeshLevel1Halo for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
 Checking nodes in halo EmptyHalo for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
 Exiting renumber_positions_trailing_receives
 In derive_maximal_element_halo
 Maximal receive elements:           72
 Owned elements:          705
 Checking nodes in halo EmptyHalo for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
 Adding node-element list to mesh CoordinateMesh
 Exiting derive_maximal_element_halo
 In renumber_positions_elements_trailing_receives
 In renumber_positions_elements
 Adding element-element list to mesh CoordinateMesh
 Adding node-element list to mesh CoordinateMesh
 Using the new makeeelist
 Number of surface elements:           39
 Number of unique surface elements:           39
 Checking nodes in halo CoordinateMeshMaximalElementHalo for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
 Creating universal numbering for a trailing receives halo
 Checking nodes in halo CoordinateMeshMaximalElementHalo for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
Owned nodes universal node number base = 0
Total receive_nodes = 72
 Checking nodes in halo CoordinateMeshMaximalElementHalo for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
 halo_verifies_array_integer returning .true.
 Checking nodes in halo CoordinateMeshMaximalElementHalo for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
 Creating universal numbering for a trailing receives halo
 Checking nodes in halo CoordinateMeshMaximalElementHalo for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
Owned nodes universal node number base = 0
Total receive_nodes = 72
 Checking nodes in halo CoordinateMeshMaximalElementHalo for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
 halo_verifies_array_integer returning .true.
 Exiting renumber_positions_elements
 Removing node-element list from mesh CoordinateMesh
 Checking nodes in halo CoordinateMeshMaximalElementHalo for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
 Checking nodes in halo CoordinateMeshMaximalElementHalo for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
 Exiting renumber_positions_elements_trailing_receives
 halo_verifies_array_real returning .true.
 halo_verifies_array_real returning .true.
 halo_verifies_array_real returning .true.
 halo_verifies_array_real returning .true.
 Removing element-element list from mesh CoordinateMesh
 Adding element-element list to mesh CoordinateMesh
 Using the new makeeelist
 Number of surface elements:           39
 Number of unique surface elements:           39
 Exiting reconstruct_halo
 in initialise_transfer
 Updating halos for state BoussinesqFluid
 Creating universal numbering for a trailing receives halo
 Checking nodes in halo CoordinateMeshMaximalElementHaloDG for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
Owned nodes universal node number base = 0
Total receive_nodes = 216
 Checking nodes in halo CoordinateMeshMaximalElementHaloDG for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
 halo_verifies_array_integer returning .true.
 Checking nodes in halo CoordinateMeshMaximalElementHaloDG for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
 Creating universal numbering for a trailing receives halo
 Checking nodes in halo CoordinateMeshMaximalElementHaloDG for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
Owned nodes universal node number base = 0
Total receive_nodes = 216
 Checking nodes in halo CoordinateMeshMaximalElementHaloDG for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
 halo_verifies_array_integer returning .true.
 Checking nodes in halo CoordinateMeshMaximalElementHaloDG for consistency with trailing receive ordering
 Halo nodes are consistent with trailing receive ordering
 Transferring element-element list to mesh VelocityMesh
 In allocate_and_insert_vector_field, field is: Velocity
 Is field prognostic?  F
 Is field prescribed?  T
 Is field constant?  F
 Is field diagnostic?  F
 Velocity is on mesh VelocityMesh
     Inserting children of: /material_phase[0]/vector_field::Velocity/prescribed
     Inserting children of: /material_phase[0]/vector_field::Velocity/prescribed/spatial_discretisation/inner_element
 In allocate_and_insert_vector_field, field is: GravityDirection
 Is field prognostic?  F
 Is field prescribed?  T
 Is field constant?  T
 Is field diagnostic?  F
 GravityDirection is on mesh CoordinateMesh
     Inserting children of: /physical_parameters/gravity/vector_field::GravityDirection/prescribed
     Inserting children of: /physical_parameters/gravity/vector_field::GravityDirection/prescribed/spatial_discretisation/inner_element
 exiting initialise_transfer
 in transfer_fields
 Amount of data to be transferred per detector:            6
 In zoltan_cb_pack_field_sizes
 In zoltan_cb_pack_fields
 Packed            0  detectors
 Exiting zoltan_cb_pack_fields
 Merged           0 detectors with local detector lists
 Updating halos for state 
 Updating halos for state 
 exiting transfer_fields
 In set_prescribed_field_values
 In populate_boundary_conditions
 In set_boundary_conditions
 In set_dirichlet_consistent
 Removing element-element list from mesh VelocityMesh
 Removing node-element list from mesh CoordinateMesh
 Removing element-element list from mesh CoordinateMesh
 Removing node-element list from mesh SurfaceCoordinateMesh
 Removing element-element list from mesh PWCMesh
 Exiting zoltan_drive
 Checkpointing simulation
 Checkpointing mesh CoordinateMesh
 Checkpointing halos
 In write_halos
 Exiting write_halos
 Checkpointing options tree
 Removing node-element list from mesh CoordinateMesh
 Removing element-element list from mesh CoordinateMesh
 Removing element-element list from mesh VelocityMesh
 Exiting flredecomp
